# Windows系统运行步骤总结

## 🎯 三步快速启动

### 第一步：初始化数据库

```cmd
database\import.bat
```

按提示输入MySQL用户名（默认root）和密码。

### 第二步：修改数据库配置

**重要**：编辑 `backend\src\main\resources\application.yml`

修改第10行的数据库密码：
```yaml
password: 你的MySQL密码  # 修改这里
```

### 第三步：启动应用

```cmd
启动应用.bat
```

等待服务启动完成（约30秒-2分钟），然后访问：
```
http://localhost:8080/frontend/pages/auth/login.html
```

使用账号登录：
- 用户名：`admin`
- 密码：`admin123`

---

## 📋 详细步骤说明

### 1. 环境准备

#### 检查必需软件

运行：
```cmd
启动检查.bat
```

或手动检查：
```cmd
java -version      # 需要Java 8+
mvn -version      # 需要Maven 3.6.1+
python --version  # 需要Python 3.x
mysql --version   # 需要MySQL 8.0+
```

#### 安装缺失软件

| 软件 | 下载地址 |
|------|---------|
| Java JDK 8+ | https://www.oracle.com/java/technologies/downloads/ |
| Maven 3.6.1+ | https://maven.apache.org/download.cgi |
| MySQL 8.0+ | https://dev.mysql.com/downloads/mysql/ |
| Python 3.x | https://www.python.org/downloads/ |

#### 配置环境变量

**Java**：
- 新建系统变量 `JAVA_HOME` = JDK安装路径
- 添加 `%JAVA_HOME%\bin` 到Path

**Maven**：
- 新建系统变量 `MAVEN_HOME` = Maven解压路径
- 添加 `%MAVEN_HOME%\bin` 到Path

### 2. 数据库初始化

#### 方法1：使用脚本（推荐）

```cmd
database\import.bat
```

#### 方法2：手动导入

```cmd
mysql -u root -p < database\import.sql
```

#### 验证数据库

```cmd
mysql -u root -p
```

```sql
USE yuzhuapp;
SHOW TABLES;
SELECT * FROM users WHERE username = 'admin';
```

### 3. 修改配置文件

**必须修改** `backend\src\main\resources\application.yml`：

```yaml
spring:
  datasource:
    password: 你的MySQL密码  # ⚠️ 修改这里
```

**可选**：如果未安装MQTT，设置：
```yaml
mqtt:
  enabled: false  # 禁用MQTT功能
```

### 4. 启动应用

#### 方法1：一键启动（推荐）

```cmd
启动应用.bat
```

#### 方法2：分别启动

**启动后端**：
```cmd
启动后端.bat
```

**启动前端**（新开窗口）：
```cmd
启动前端.bat
```

### 5. 访问应用

打开浏览器访问：
- 登录页：http://localhost:8080/frontend/pages/auth/login.html
- 首页：http://localhost:8080/index.html

登录账号：
- 用户名：`admin`
- 密码：`admin123`

---

## ✅ 成功标志

1. ✅ 后端窗口显示：`Started YuzhuAppApplication`
2. ✅ 前端窗口显示：`Serving HTTP on 0.0.0.0 port 8080`
3. ✅ 浏览器可以访问登录页面
4. ✅ 可以成功登录
5. ✅ 浏览器控制台（F12）无错误

---

## 🔧 常见问题

### Java未找到
- 安装JDK 8+
- 配置JAVA_HOME环境变量

### Maven未找到
- 安装Maven 3.6.1+
- 配置MAVEN_HOME环境变量

### MySQL连接失败
- 启动MySQL服务：`net start MySQL`
- 检查数据库配置是否正确
- 确认数据库已创建

### 端口被占用
```cmd
netstat -ano | findstr :8081
taskkill /PID <PID> /F
```

### 登录500错误
- 检查admin用户是否存在
- 查看后端控制台日志

---

## 📚 相关文档

- **完整指南**：`WINDOWS_完整运行指南.md`
- **快速启动**：`QUICK_START.md`
- **故障排除**：`TROUBLESHOOTING.md`

---

## 💡 重要提示

1. **首次运行**需要下载Maven依赖（5-10分钟）
2. **必须修改**数据库密码配置
3. **保持服务窗口打开**，关闭会停止服务
4. **清除浏览器缓存**：按 `Ctrl + F5` 强制刷新

---

祝您使用愉快！🎉

